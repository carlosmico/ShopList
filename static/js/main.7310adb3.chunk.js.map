{"version":3,"sources":["firebase/config.js","firebase/firebase.js","components/profileImage/ProfileImage.jsx","components/header/Header.jsx","views/main/Main.jsx","components/footer/Footer.jsx","redux/actions.js","redux/store.js","views/shopList/ShopList.jsx","views/login/Login.jsx","views/profile/Profile.jsx","components/item/Item.jsx","views/error404/Error404.jsx","App.jsx","index.jsx"],"names":["FIREBASE","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","configFirebase","config","FIREBASECONF","initializeApp","ProfileImage","props","context","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","profileImage","react_default","a","createElement","className","react_router_dom","to","src","alt","onClick","redirectToProfile","React","Component","Header","checkProfileImage","event","console","log","userLogged","components_profileImage_ProfileImage","title","connect","Main","checkIfUserIsLogged","history","push","actions","USERS","LOGIN","LOGOUT","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","userLocalStorage","localStorage","getItem","initialState","JSON","parse","database","store","createStore","arguments","length","undefined","action","type","ACTIONS","setItem","stringify","payload","objectSpread","removeItem","Login","login","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","credential","accessToken","googleUser","user","name","displayName","email","photoURL","STORE","dispatch","catch","error","code","message","Profile","logout","Item","decrement","units","setState","updateItem","increment","id","removeEvt","ShopList","componentDidMount","getAllItems","ref","concat","username","on","data","items","val","components","itemId","hasOwnProperty","item","itemComponent","components_item_Item","key","shopList","addItem","target","value","Date","now","itemTitle","set","err","update","componentId","parentNode","remove","split","onKeyUp","placeholder","Error404","App","components_header_Header","react_router","path","exact","component","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.7310adb3.chunk.js","sourcesContent":["const FIREBASE = {\r\n    apiKey: \"AIzaSyDJjLaet5LsbEDvEWMmpyZQsQUybMuDJbE\",\r\n    authDomain: \"shoplist-91bcd.firebaseapp.com\",\r\n    databaseURL: \"https://shoplist-91bcd.firebaseio.com\",\r\n    projectId: \"shoplist-91bcd\",\r\n    storageBucket: \"shoplist-91bcd.appspot.com\",\r\n    messagingSenderId: \"851332853131\",\r\n    appId: \"1:851332853131:web:4f3a1a6ca192f9e6\"\r\n}\r\n\r\nexport default FIREBASE;","//FIREBASE\r\nimport FIREBASE from 'firebase';\r\nimport FIREBASECONF from './config'\r\n\r\nconst configFirebase = () => {\r\n    let config = {\r\n      apiKey: FIREBASECONF.apiKey,\r\n      authDomain: FIREBASECONF.authDomain,\r\n      databaseURL: FIREBASECONF.databaseURL,\r\n      projectId: FIREBASECONF.projectId,\r\n      storageBucket: FIREBASECONF.storageBucket,\r\n      messagingSenderId: FIREBASECONF.messagingSenderId,\r\n      appId: FIREBASECONF.appId\r\n    };\r\n\r\n    FIREBASE.initializeApp(config);\r\n}\r\n\r\nexport{configFirebase}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n//CSS\r\nimport './ProfileImage.css'\r\n\r\nclass ProfileImage extends React.Component {\r\n    constructor(props, context) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            profileImage: this.props.profileImage\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ProfileImage\">\r\n                <Link to='/profile'>\r\n                    <img src={this.state.profileImage} alt=\"Profile\" onClick={this.redirectToProfile} />\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileImage;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\n//REDUX\r\nimport { connect } from 'react-redux'\r\n\r\n//Components\r\nimport ProfileImage from '../../components/profileImage/ProfileImage'\r\n\r\n//CSS\r\nimport './Header.css'\r\n\r\nclass Header extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            profileImage: <Link to='/login'><i className=\"far fa-user-circle\"></i></Link>\r\n        }\r\n    }\r\n\r\n    checkProfileImage = event => {\r\n        console.log('Comprobando profileimage de:')\r\n        console.log(this.props.userLogged)\r\n        if (this.props.userLogged) {\r\n            this.state.profileImage = <ProfileImage profileImage={this.props.userLogged.profileImage} />;\r\n        } else {\r\n            this.state.profileImage = <Link to='/login'><i className=\"far fa-user-circle\"></i></Link>;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.checkProfileImage();\r\n        return (\r\n            <header>\r\n                <Link to=\"/\">\r\n                    <i className=\"fas fa-shopping-cart\"></i>\r\n                    <h1>{this.props.title}</h1>\r\n                </Link>\r\n\r\n                <div className=\"buttoner\">\r\n                    {this.state.profileImage}\r\n                    {/* {this.props.userLogged ?  <ProfileImage profileImage={this.props.userLogged.profileImage}/> : <Link to='/login'><i className=\"far fa-user-circle\"></i></Link>} */}\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userLogged: state.userLogged\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react'\r\n\r\n//REDUX\r\nimport { connect } from 'react-redux'\r\n\r\n//CSS\r\nimport './Main.css'\r\n\r\nclass Main extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.checkIfUserIsLogged();\r\n    }\r\n\r\n    checkIfUserIsLogged = () => {\r\n        if(this.props.userLogged){\r\n            this.props.history.push(`/shoplist`)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='Main'>\r\n                <div>\r\n                    <div className='Content'>\r\n                        <h1>Shoplist makes your shopping list easier</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userLogged: state.userLogged\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Main);","import React from 'react';\r\n\r\n//CSS \r\nimport './Footer.css'\r\n\r\nclass Footer extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <footer>\r\n                <p>{this.props.copyright}</p>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","const USERS = {\r\n    LOGIN: \"LOGIN\",\r\n    LOGOUT: \"LOGOUT\"\r\n}\r\n\r\nexport default {USERS}","import {\r\n    createStore, compose\r\n} from 'redux'\r\n\r\n//ACTIONS\r\nimport ACTIONS from './actions'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst userLocalStorage = localStorage.getItem('userLogged');\r\n\r\nlet initialState = {}\r\n\r\nif (JSON.parse(userLocalStorage) !== null) {\r\n    initialState = {\r\n        userLogged: JSON.parse(userLocalStorage),\r\n    };\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTIONS.USERS.LOGIN:\r\n            //We save the user in localstorage to load it on initial state\r\n            localStorage.setItem('userLogged', JSON.stringify(action.payload));\r\n\r\n            return state = {\r\n                ...state,\r\n                userLogged: action.payload\r\n            };\r\n\r\n        case ACTIONS.USERS.LOGOUT:\r\n            localStorage.removeItem('userLogged');\r\n\r\n            return state = {\r\n                ...state,\r\n                userLogged: undefined\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst store = createStore(userReducer, composeEnhancers());\r\n\r\nexport default store;","import React from 'react';\r\n\r\n//REDUX\r\nimport { connect } from 'react-redux'\r\n\r\n//FIREBASE\r\nimport FIREBASE from 'firebase';\r\n\r\n//ITEMS\r\nimport Item from '../../components/item/Item'\r\n\r\n//CSS\r\nimport './ShopList.css'\r\n\r\n//GLOBAL VARIABLES\r\nvar database;\r\n\r\nclass ShopList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //This is required because firebase don't accept @ on their refs\r\n        let email = this.props.userLogged.email;\r\n        let username = email.split('@')[0];\r\n\r\n        this.state = {\r\n            username: username,\r\n            shopList: []\r\n        }\r\n\r\n        database = FIREBASE.database();\r\n    }\r\n\r\n    checkIfUserIsLogged = () => {\r\n        if(this.props.userLogged){\r\n            this.props.history.push(`/shoplist`)\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getAllItems();\r\n    }\r\n\r\n    getAllItems = () => {\r\n        database.ref(`${this.state.username}/items`).on(\"value\", (data) => {\r\n            let items = data.val();\r\n\r\n            let components = [];\r\n\r\n            //Recorremos el objeto que devuelve firebase que es un objeto de objetos con la información de los items\r\n            for (const itemId in items) {\r\n                if (items.hasOwnProperty(itemId)) {\r\n                    let item = items[itemId];\r\n\r\n                    //Por cada item que recuperamos de la BD añadimos uno nuevo al array de items del estado\r\n                    let itemComponent = < Item key={item.id} id={item.id} title={item.title} units={item.units} updateItem={this.updateItem} removeEvt={this.removeItem} />\r\n\r\n                    components.push(itemComponent);\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                shopList: components\r\n            });\r\n        });\r\n    }\r\n\r\n    addItem = (event) => {\r\n        if (event.key === 'Enter' && event.target.value !== \"\") {\r\n            let itemId = Date.now();\r\n\r\n            let itemTitle = event.target.value;\r\n\r\n            database.ref(`${this.state.username}/items/${itemId}`).set({\r\n                id: itemId,\r\n                title: itemTitle,\r\n                units: 1\r\n            }).catch(err => console.log(err));\r\n\r\n            event.target.value = \"\";\r\n        }\r\n    }\r\n\r\n    //FALTA REFACTORIZARLO \r\n    updateItem = (event) => {\r\n        database.ref(`${this.state.username}/items/${event.id}`).update({\r\n            units: event.units\r\n        });\r\n    }\r\n\r\n    removeItem = (event) => {\r\n        let componentId = event.target.parentNode.parentNode.parentNode.id;\r\n\r\n        if (componentId !== \"\") {\r\n            //Obtenemos la referencia del item de la bd mediante el id y lo eliminamos\r\n            let itemRef = database.ref(`${this.state.username}/items/${componentId}`);\r\n            itemRef.remove();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='shopList'>\r\n                <input type=\"text\" onKeyUp={this.addItem} placeholder=\"Add item...\" />\r\n\r\n                <div className='itemsList'>\r\n                    {this.state.shopList}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userLogged: state.userLogged\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ShopList);","import React from 'react'\r\n\r\n//Firebase\r\nimport FIREBASE from 'firebase'\r\n\r\n//REDUX\r\nimport ACTIONS from '../../redux/actions'\r\nimport STORE from '../../redux/store'\r\n\r\n//CSS\r\nimport './Login.css'\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    login = (event) => {\r\n        //GOOGLE AUTHENTICATION\r\n        var provider = new FIREBASE.auth.GoogleAuthProvider();\r\n\r\n        FIREBASE.auth().signInWithPopup(provider).then((result)=> {\r\n          // This gives you a Google Access Token. You can use it to access the Google API.\r\n          var token = result.credential.accessToken;\r\n\r\n          // The signed-in user info.\r\n          var googleUser = result.user;\r\n          \r\n          let userLogged = {\r\n              name: googleUser.displayName,\r\n              email: googleUser.email,\r\n              profileImage: googleUser.photoURL\r\n          }\r\n\r\n          // Save the userLogged in the Redux Store State\r\n          STORE.dispatch({\r\n            type: ACTIONS.USERS.LOGIN,\r\n            payload:userLogged\r\n          });\r\n\r\n          // Redirect to shoplist page\r\n          this.props.history.push(`/shoplist`)\r\n        }).catch(function (error) {\r\n          // Handle Errors here.\r\n          var errorCode = error.code;\r\n          var errorMessage = error.message;\r\n          // The email of the user's account used.\r\n          var email = error.email;\r\n          // The firebase.auth.AuthCredential type that was used.\r\n          var credential = error.credential;\r\n\r\n          console.log(error)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='Login'>\r\n                <div className='Content'>\r\n                    <h3>Login with Google</h3>\r\n\r\n                    <p>At the moment you only can use our app with an existent Google account.</p>\r\n\r\n                    <img src=\"https://www.stickpng.com/assets/images/5a951939c4ffc33e8c148af2.png\" alt=\"Login\" onClick={this.login}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\n//REDUX IMPORTS\r\nimport STORE from '../../redux/store'\r\nimport ACTIONS from '../../redux/actions'\r\n\r\n//CSS\r\nimport './Profile.css'\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    logout = () => {\r\n        STORE.dispatch({\r\n            type: ACTIONS.USERS.LOGOUT\r\n        });\r\n\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Profile\">\r\n                <img src={this.props.userLogged.profileImage} alt=\"\" />\r\n\r\n                <p className='Name'>{this.props.userLogged.name}</p>\r\n                <p className='Email'>{this.props.userLogged.email}</p>\r\n\r\n                <button onClick={this.logout}>Logout</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userLogged: state.userLogged\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile)","import React from 'react'\r\n\r\n//CSS\r\nimport './Item.css'\r\n\r\nclass Item extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            id: this.props.id,\r\n            units: this.props.units || 0\r\n        };\r\n    }\r\n\r\n    decrement = (event) => {\r\n        if(this.state.units > 1){\r\n            this.setState({\r\n                units: this.state.units - 1\r\n            }, ()=>{\r\n                this.props.updateItem(this.state);\r\n            });\r\n        }\r\n    }\r\n\r\n    increment = (event) => {\r\n        this.setState({\r\n            units: this.state.units + 1\r\n        }, ()=>{\r\n            this.props.updateItem(this.state);\r\n        });\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='item' id={this.props.id}>\r\n                <div>\r\n                    <p>{this.props.title}</p>\r\n\r\n                    <div className='buttoner'>\r\n                        <i className=\"fas fa-trash-alt removeBtn\" onClick={this.props.removeEvt}></i>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* <div>\r\n                    <a className=\"customBtn\" onClick={this.decrement}><span>-</span></a>\r\n                    <span className=\"units\">{this.state.units}</span>\r\n                    <a className=\"customBtn\" onClick={this.increment}><span>+</span></a>\r\n                </div> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Item;","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\n//CSS\r\nimport './Error.css'\r\n\r\nconst Error404 = (props) =>{\r\n    return(\r\n        <div className=\"Error404\">\r\n            <div className='Content'>\r\n                <p className='Oops'>Oops!</p>\r\n\r\n                <p className='Sorry'>Sorry, we can't find that page.</p>\r\n\r\n                <p className='ErrorCode'>Error code: 404</p>\r\n\r\n                <Link to='/' className='LinkHomePage'>Return to the HomePage</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Error404;","import React from 'react';\nimport './App.css';\n\n//React Router\nimport { BrowserRouter, Route, Switch} from 'react-router-dom'\n\n//FIREBASE\nimport { configFirebase } from './firebase/firebase'\n\n//Components\nimport Header from './components/header/Header'\nimport Footer from './components/footer/Footer'\nimport Main from './views/main/Main'\nimport Login from './views/login/Login'\nimport Profile from './views/profile/Profile'\nimport ShopList from './views/shopList/ShopList';\nimport Error404 from './views/error404/Error404';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    //CONFIGURE FIREBASE IF NOT EXIST PREV CONFIGURATION\n    configFirebase();\n  }\n\n  render() {\n    return (\n      <div className=\"App\" >\n        <BrowserRouter>\n          <Header title=\"ShopList\"/>\n\n          <Switch>\n            <Route path='/' exact component={Main}>{console.log('he pintado el main')}</Route>\n            <Route path='/login' exact component={Login} />\n            <Route path='/profile' exact component={Profile}/>\n            <Route path='/shoplist' exact component={ShopList} />\n            <Route path='*' component={Error404}/>\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n//REACT REDUX\nimport { Provider } from 'react-redux'\n\n//REDUX STORE\nimport STORE from './redux/store'\n\nReactDOM.render(\n    <Provider store={STORE}>\n        <App />\n    </Provider>,\n    document.getElementById('root'));\n"],"sourceRoot":""}