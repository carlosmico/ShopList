{"version":3,"sources":["App.js","config/firebase.js","components/header/Header.jsx","components/shopList/ShopList.jsx","components/footer/Footer.jsx","components/item/Item.jsx","index.js"],"names":["database","FIREBASE","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Header","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","react_default","a","createElement","className","title","React","Component","ShopList","type","onKeyUp","addItem","placeholder","items","Item","_this","decrement","event","state","units","setState","updateItem","increment","id","onClick","removeEvt","App","configFirebase","config","FIREBASECONF","initializeApp","getAllItems","ref","on","data","val","components","itemId","hasOwnProperty","item","itemComponent","components_item_Item","key","removeItem","push","shopList","Date","now","itemTitle","target","value","set","then","catch","err","console","log","concat","update","componentId","parentNode","remove","cartList","components_header_Header","components_shopList_ShopList","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.6756637d.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\n\n//FIREBASE\nimport FIREBASE from 'firebase/app';\nimport FIREBASECONF from './config/firebase'\n\n//Components\nimport Header from './components/header/Header'\nimport Footer from './components/footer/Footer'\nimport ShopList from './components/shopList/ShopList';\nimport Item from './components/item/Item'\n\n//GLOBAL VARIABLES\nvar database;\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shopList: [],\n      cartList: []\n    }\n\n    this.configFirebase();\n\n    this.getAllItems();\n  }\n\n  configFirebase = () => {\n    let config = {\n      apiKey: FIREBASECONF.apiKey,\n      authDomain: FIREBASECONF.authDomain,\n      databaseURL: FIREBASECONF.databaseURL,\n      projectId: FIREBASECONF.projectId,\n      storageBucket: FIREBASECONF.storageBucket,\n      messagingSenderId: FIREBASECONF.messagingSenderId,\n      appId: FIREBASECONF.appId\n    };\n\n    FIREBASE.initializeApp(config);\n\n    database = FIREBASE.database();\n  }\n\n  getAllItems = () => {\n    database.ref('items').on(\"value\", (data) => {\n      let items = data.val();\n\n      let components = [];\n\n      //Recorremos el objeto que devuelve firebase que es un objeto de objetos con la información de los items\n      for (const itemId in items) {\n        if (items.hasOwnProperty(itemId)) {\n          let item = items[itemId];\n\n          //Por cada item que recuperamos de la BD añadimos uno nuevo al array de items del estado\n          let itemComponent = < Item key={item.id} id={item.id} title={item.title} units={item.units} updateItem={this.updateItem} removeEvt={this.removeItem} />\n\n          components.push(itemComponent);\n        }\n      }\n\n      this.setState({\n        shopList: components\n      });\n    });\n  }\n\n  addItem = (event) => {\n    if (event.key === 'Enter') {\n      let itemId = Date.now();\n\n      let itemTitle = event.target.value;\n\n      database.ref('items/' + itemId).set({\n        id: itemId,\n        title: itemTitle,\n        units: 1\n      }).then(() => {\n        // let newItem = < Item key={itemId} id={itemId} title={itemTitle} removeEvt={this.removeItem} />\n\n        // console.log('Anyadiendo hijo')\n\n        // this.setState({\n        //   shopList: [...this.state.shopList, newItem]\n        // });\n      }).catch(err => console.log(err));\n\n      event.target.value = \"\";\n    }\n  }\n\n  updateItem = (state) => {\n    database.ref(`items/${state.id}`).update({\n      units: state.units\n    });\n  }\n\n  removeItem = (event) => {\n    let componentId = event.target.parentNode.parentNode.parentNode.id;\n\n    if (componentId !== \"\") {\n      //Obtenemos la referencia del item de la bd mediante el id y lo eliminamos\n      let itemRef = database.ref('items/' + componentId);\n      itemRef.remove();\n    }\n\n    // //Recogemos la shopList del estado para trabajar sobre ella comodamente\n    // let shopList = this.state.shopList;\n\n    // //Recorremos la shopList para encontrar el componente a eliminar\n    // this.state.shopList.forEach((item, index) => {\n    //   if (componentId === item.key) {\n\n    //     //Eliminamos el componente Item de la variable shopList\n    //     shopList.splice(index, 1);\n\n    //     //Asignamos la shopList que hemos editado al estado del componente padre\n    //     this.setState({\n    //       shopList: shopList\n    //     });\n    //   }\n    // });\n  }\n\n  render() {\n    return (\n      <div className=\"App\" >\n        <Header title=\"ShopList\" />\n\n        {/* LISTAS*/}\n        <div className='lists' >\n          <ShopList title='Shop List' items={this.state.shopList} addItem={this.addItem}/>\n        </div>\n\n        {/* <Footer copyright=\"© All rights reserved. 2019 Carlos Micó.\" /> */}\n      </div>\n    );\n  }\n}\n\nexport default App;","const FIREBASE = {\r\n    apiKey: \"AIzaSyDJjLaet5LsbEDvEWMmpyZQsQUybMuDJbE\",\r\n    authDomain: \"shoplist-91bcd.firebaseapp.com\",\r\n    databaseURL: \"https://shoplist-91bcd.firebaseio.com\",\r\n    projectId: \"shoplist-91bcd\",\r\n    storageBucket: \"shoplist-91bcd.appspot.com\",\r\n    messagingSenderId: \"851332853131\",\r\n    appId: \"1:851332853131:web:4f3a1a6ca192f9e6\"\r\n}\r\n\r\nexport default FIREBASE;","import React from 'react';\r\n\r\n//CSS\r\nimport './Header.css'\r\n\r\nclass Header extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <header>\r\n                <i className=\"fas fa-shopping-cart\"></i>\r\n                <h1>{this.props.title}</h1>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\n//CSS\r\nimport './ShopList.css'\r\n\r\nclass ShopList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='shopList'>\r\n                {/* <h2>{this.props.title}</h2> */}\r\n\r\n                <input type=\"text\" onKeyUp={this.props.addItem} placeholder=\"Add item...\" />\r\n\r\n                <div className='itemsList'>\r\n                    {this.props.items}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ShopList;","import React from 'react';\r\n\r\n//CSS \r\nimport './Footer.css'\r\n\r\nclass Footer extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <footer>\r\n                <p>{this.props.copyright}</p>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","import React from 'react'\r\n\r\n//CSS\r\nimport './Item.css'\r\n\r\nclass Item extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            id: this.props.id,\r\n            units: this.props.units || 0\r\n        };\r\n    }\r\n\r\n    decrement = (event) => {\r\n        if(this.state.units > 1){\r\n            this.setState({\r\n                units: this.state.units - 1\r\n            }, ()=>{\r\n                this.props.updateItem(this.state);\r\n            });\r\n        }\r\n    }\r\n\r\n    increment = (event) => {\r\n        this.setState({\r\n            units: this.state.units + 1\r\n        }, ()=>{\r\n            this.props.updateItem(this.state);\r\n        });\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='item' id={this.props.id}>\r\n                <div>\r\n                    <p>{this.props.title}</p>\r\n\r\n                    <div className='buttoner'>\r\n                        <i className=\"fas fa-trash-alt removeBtn\" onClick={this.props.removeEvt}></i>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* <div>\r\n                    <a className=\"customBtn\" onClick={this.decrement}><span>-</span></a>\r\n                    <span className=\"units\">{this.state.units}</span>\r\n                    <a className=\"customBtn\" onClick={this.increment}><span>+</span></a>\r\n                </div> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Item;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}