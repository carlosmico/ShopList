{"version":3,"sources":["firebase/config.js","firebase/firebase.js","components/profileImage/ProfileImage.jsx","components/header/Header.jsx","views/main/Main.jsx","components/footer/Footer.jsx","redux/actions.js","redux/store.js","views/shopList/ShopList.jsx","views/login/Login.jsx","views/profile/Profile.jsx","components/item/Item.jsx","views/error404/Error404.jsx","App.jsx","index.jsx"],"names":["FIREBASE","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","configFirebase","config","FIREBASECONF","initializeApp","ProfileImage","props","context","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","profileImage","react_default","a","createElement","className","react_router_dom","to","src","alt","onClick","redirectToProfile","React","Component","Header","logout","title","userLogged","components_profileImage_ProfileImage","connect","Main","checkIfUserIsLogged","history","push","actions","USERS","LOGIN","LOGOUT","userLocalStorage","localStorage","getItem","initialState","JSON","parse","database","store","createStore","arguments","length","undefined","action","type","ACTIONS","setItem","stringify","payload","objectSpread","console","log","removeItem","Login","login","event","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","credential","accessToken","googleUser","user","name","displayName","email","photoURL","STORE","dispatch","catch","error","code","message","Profile","Item","decrement","units","setState","updateItem","increment","id","removeEvt","ShopList","componentDidMount","getAllItems","ref","concat","username","on","data","items","val","components","itemId","hasOwnProperty","item","itemComponent","components_item_Item","key","shopList","addItem","target","value","Date","now","itemTitle","set","err","update","componentId","parentNode","remove","split","onKeyUp","placeholder","Error404","App","components_header_Header","react_router","path","exact","component","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.00778782.chunk.js","sourcesContent":["const FIREBASE = {\r\n    apiKey: \"AIzaSyDJjLaet5LsbEDvEWMmpyZQsQUybMuDJbE\",\r\n    authDomain: \"shoplist-91bcd.firebaseapp.com\",\r\n    databaseURL: \"https://shoplist-91bcd.firebaseio.com\",\r\n    projectId: \"shoplist-91bcd\",\r\n    storageBucket: \"shoplist-91bcd.appspot.com\",\r\n    messagingSenderId: \"851332853131\",\r\n    appId: \"1:851332853131:web:4f3a1a6ca192f9e6\"\r\n}\r\n\r\nexport default FIREBASE;","//FIREBASE\r\nimport FIREBASE from 'firebase';\r\nimport FIREBASECONF from './config'\r\n\r\nconst configFirebase = () => {\r\n    let config = {\r\n      apiKey: FIREBASECONF.apiKey,\r\n      authDomain: FIREBASECONF.authDomain,\r\n      databaseURL: FIREBASECONF.databaseURL,\r\n      projectId: FIREBASECONF.projectId,\r\n      storageBucket: FIREBASECONF.storageBucket,\r\n      messagingSenderId: FIREBASECONF.messagingSenderId,\r\n      appId: FIREBASECONF.appId\r\n    };\r\n\r\n    FIREBASE.initializeApp(config);\r\n}\r\n\r\nexport{configFirebase}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n//CSS\r\nimport './ProfileImage.css'\r\n\r\nclass ProfileImage extends React.Component {\r\n    constructor(props, context) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            profileImage: this.props.profileImage\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ProfileImage\">\r\n                <Link to='/profile'>\r\n                    <img src={this.state.profileImage} alt=\"Profile\" onClick={this.redirectToProfile} />\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileImage;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\n//REDUX\r\nimport { connect } from 'react-redux'\r\n\r\n//Components\r\nimport ProfileImage from '../../components/profileImage/ProfileImage'\r\n\r\n//CSS\r\nimport './Header.css'\r\n\r\nclass Header extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    logout = () =>{\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header>\r\n                <Link to=\"/\">\r\n                    <i className=\"fas fa-shopping-cart\"></i>\r\n                    <h1>{this.props.title}</h1>\r\n                </Link>\r\n\r\n                <div className=\"buttoner\">\r\n                    {this.props.userLogged ?  <ProfileImage profileImage={this.props.userLogged.profileImage}/> : <Link to='/login'><i className=\"far fa-user-circle\"></i></Link>}\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userLogged: state.userLogged\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react'\r\n\r\n//REDUX\r\nimport { connect } from 'react-redux'\r\n\r\n//CSS\r\nimport './Main.css'\r\n\r\nclass Main extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.checkIfUserIsLogged();\r\n    }\r\n\r\n    checkIfUserIsLogged = () => {\r\n        if(this.props.userLogged){\r\n            this.props.history.push(`/shoplist`)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='Main'>\r\n                <div>\r\n                    <div className='Content'>\r\n                        <h1>Shoplist makes your shopping list easier</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userLogged: state.userLogged\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Main);","import React from 'react';\r\n\r\n//CSS \r\nimport './Footer.css'\r\n\r\nclass Footer extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <footer>\r\n                <p>{this.props.copyright}</p>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;","const USERS = {\r\n    LOGIN: \"LOGIN\",\r\n    LOGOUT: \"LOGOUT\"\r\n}\r\n\r\nexport default {USERS}","import {\r\n    createStore\r\n} from 'redux'\r\n\r\n//ACTIONS\r\nimport ACTIONS from './actions'\r\n\r\nconst userLocalStorage = localStorage.getItem('userLogged');\r\n\r\nlet initialState = {}\r\n\r\nif(JSON.parse(userLocalStorage)!==null){\r\n    initialState = {userLogged: JSON.parse(userLocalStorage),};\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ACTIONS.USERS.LOGIN:\r\n            //We save the user in localstorage to load it on initial state\r\n            localStorage.setItem('userLogged', JSON.stringify(action.payload));\r\n\r\n            return state = {\r\n                ...state,\r\n                userLogged: action.payload\r\n            };\r\n\r\n        case ACTIONS.USERS.LOGOUT:\r\n                console.log('logout')\r\n            localStorage.removeItem('userLogged');\r\n\r\n            delete state.userLogged;\r\n\r\n            return state;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst store = createStore(userReducer);\r\n\r\nexport default store;","import React from 'react';\r\n\r\n//REDUX\r\nimport { connect } from 'react-redux'\r\n\r\n//FIREBASE\r\nimport FIREBASE from 'firebase';\r\n\r\n//ITEMS\r\nimport Item from '../../components/item/Item'\r\n\r\n//CSS\r\nimport './ShopList.css'\r\n\r\n//GLOBAL VARIABLES\r\nvar database;\r\n\r\nclass ShopList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //This is required because firebase don't accept @ on their refs\r\n        let email = this.props.userLogged.email;\r\n        let username = email.split('@')[0];\r\n\r\n        this.state = {\r\n            username: username,\r\n            shopList: []\r\n        }\r\n\r\n        database = FIREBASE.database();\r\n    }\r\n\r\n    checkIfUserIsLogged = () => {\r\n        if(this.props.userLogged){\r\n            this.props.history.push(`/shoplist`)\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getAllItems();\r\n    }\r\n\r\n    getAllItems = () => {\r\n        database.ref(`${this.state.username}/items`).on(\"value\", (data) => {\r\n            let items = data.val();\r\n\r\n            let components = [];\r\n\r\n            //Recorremos el objeto que devuelve firebase que es un objeto de objetos con la información de los items\r\n            for (const itemId in items) {\r\n                if (items.hasOwnProperty(itemId)) {\r\n                    let item = items[itemId];\r\n\r\n                    //Por cada item que recuperamos de la BD añadimos uno nuevo al array de items del estado\r\n                    let itemComponent = < Item key={item.id} id={item.id} title={item.title} units={item.units} updateItem={this.updateItem} removeEvt={this.removeItem} />\r\n\r\n                    components.push(itemComponent);\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                shopList: components\r\n            });\r\n        });\r\n    }\r\n\r\n    addItem = (event) => {\r\n        if (event.key === 'Enter' && event.target.value !== \"\") {\r\n            let itemId = Date.now();\r\n\r\n            let itemTitle = event.target.value;\r\n\r\n            database.ref(`${this.state.username}/items/${itemId}`).set({\r\n                id: itemId,\r\n                title: itemTitle,\r\n                units: 1\r\n            }).catch(err => console.log(err));\r\n\r\n            event.target.value = \"\";\r\n        }\r\n    }\r\n\r\n    //FALTA REFACTORIZARLO \r\n    updateItem = (event) => {\r\n        database.ref(`${this.state.username}/items/${event.id}`).update({\r\n            units: event.units\r\n        });\r\n    }\r\n\r\n    removeItem = (event) => {\r\n        let componentId = event.target.parentNode.parentNode.parentNode.id;\r\n\r\n        if (componentId !== \"\") {\r\n            //Obtenemos la referencia del item de la bd mediante el id y lo eliminamos\r\n            let itemRef = database.ref(`${this.state.username}/items/${componentId}`);\r\n            itemRef.remove();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='shopList'>\r\n                <input type=\"text\" onKeyUp={this.addItem} placeholder=\"Add item...\" />\r\n\r\n                <div className='itemsList'>\r\n                    {this.state.shopList}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userLogged: state.userLogged\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ShopList);","import React from 'react'\r\n\r\n//Firebase\r\nimport FIREBASE from 'firebase'\r\n\r\n//REDUX\r\nimport ACTIONS from '../../redux/actions'\r\nimport STORE from '../../redux/store'\r\n\r\n//CSS\r\nimport './Login.css'\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    login = (event) => {\r\n        //GOOGLE AUTHENTICATION\r\n        var provider = new FIREBASE.auth.GoogleAuthProvider();\r\n\r\n        FIREBASE.auth().signInWithPopup(provider).then((result)=> {\r\n          // This gives you a Google Access Token. You can use it to access the Google API.\r\n          var token = result.credential.accessToken;\r\n\r\n          // The signed-in user info.\r\n          var googleUser = result.user;\r\n          \r\n          let userLogged = {\r\n              name: googleUser.displayName,\r\n              email: googleUser.email,\r\n              profileImage: googleUser.photoURL\r\n          }\r\n\r\n          // Save the userLogged in the Redux Store State\r\n          STORE.dispatch({\r\n            type: ACTIONS.USERS.LOGIN,\r\n            payload:userLogged\r\n          });\r\n\r\n          // Redirect to shoplist page\r\n          this.props.history.push(`/shoplist`)\r\n        }).catch(function (error) {\r\n          // Handle Errors here.\r\n          var errorCode = error.code;\r\n          var errorMessage = error.message;\r\n          // The email of the user's account used.\r\n          var email = error.email;\r\n          // The firebase.auth.AuthCredential type that was used.\r\n          var credential = error.credential;\r\n\r\n          console.log(error)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='Login'>\r\n                <div className='Content'>\r\n                    <h3>Login with Google</h3>\r\n\r\n                    <p>At the moment you only can use our app with an existent Google account.</p>\r\n\r\n                    <img src=\"https://www.stickpng.com/assets/images/5a951939c4ffc33e8c148af2.png\" alt=\"Login\" onClick={this.login}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\n//REDUX IMPORTS\r\nimport STORE from '../../redux/store'\r\nimport ACTIONS from '../../redux/actions'\r\n\r\n//CSS\r\nimport './Profile.css'\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    logout = () => {\r\n        STORE.dispatch({\r\n            type: ACTIONS.USERS.LOGOUT\r\n        });\r\n\r\n        console.log('redirection')\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Profile\">\r\n                <img src={this.props.userLogged.profileImage} alt=\"\" />\r\n\r\n                <p className='Name'>{this.props.userLogged.name}</p>\r\n                <p className='Email'>{this.props.userLogged.email}</p>\r\n\r\n                <button onClick={this.logout}>Logout</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userLogged: state.userLogged\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile)","import React from 'react'\r\n\r\n//CSS\r\nimport './Item.css'\r\n\r\nclass Item extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            id: this.props.id,\r\n            units: this.props.units || 0\r\n        };\r\n    }\r\n\r\n    decrement = (event) => {\r\n        if(this.state.units > 1){\r\n            this.setState({\r\n                units: this.state.units - 1\r\n            }, ()=>{\r\n                this.props.updateItem(this.state);\r\n            });\r\n        }\r\n    }\r\n\r\n    increment = (event) => {\r\n        this.setState({\r\n            units: this.state.units + 1\r\n        }, ()=>{\r\n            this.props.updateItem(this.state);\r\n        });\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='item' id={this.props.id}>\r\n                <div>\r\n                    <p>{this.props.title}</p>\r\n\r\n                    <div className='buttoner'>\r\n                        <i className=\"fas fa-trash-alt removeBtn\" onClick={this.props.removeEvt}></i>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* <div>\r\n                    <a className=\"customBtn\" onClick={this.decrement}><span>-</span></a>\r\n                    <span className=\"units\">{this.state.units}</span>\r\n                    <a className=\"customBtn\" onClick={this.increment}><span>+</span></a>\r\n                </div> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Item;","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\n//CSS\r\nimport './Error.css'\r\n\r\nconst Error404 = (props) =>{\r\n    return(\r\n        <div className=\"Error404\">\r\n            <div className='Content'>\r\n                <p className='Oops'>Oops!</p>\r\n\r\n                <p className='Sorry'>Sorry, we can't find that page.</p>\r\n\r\n                <p className='ErrorCode'>Error code: 404</p>\r\n\r\n                <Link to='/' className='LinkHomePage'>Return to the HomePage</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Error404;","import React from 'react';\nimport './App.css';\n\n//React Router\nimport { BrowserRouter, Route, Switch} from 'react-router-dom'\n\n//FIREBASE\nimport { configFirebase } from './firebase/firebase'\n\n//Components\nimport Header from './components/header/Header'\nimport Footer from './components/footer/Footer'\nimport Main from './views/main/Main'\nimport Login from './views/login/Login'\nimport Profile from './views/profile/Profile'\nimport ShopList from './views/shopList/ShopList';\nimport Error404 from './views/error404/Error404';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    //CONFIGURE FIREBASE IF NOT EXIST PREV CONFIGURATION\n    configFirebase();\n  }\n\n  render() {\n    return (\n      <div className=\"App\" >\n        <BrowserRouter>\n          <Header title=\"ShopList\" />\n\n          <Switch>\n            <Route path='/' exact component={Main} />\n            <Route path='/login' exact component={Login} />\n            <Route path='/profile' exact component={Profile}/>\n            <Route path='/shoplist' exact component={ShopList} />\n            <Route path='*' component={Error404}/>\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n//REACT REDUX\nimport { Provider } from 'react-redux'\n\n//REDUX STORE\nimport STORE from './redux/store'\n\nReactDOM.render(\n    <Provider store={STORE}>\n        <App />\n    </Provider>,\n    document.getElementById('root'));\n"],"sourceRoot":""}