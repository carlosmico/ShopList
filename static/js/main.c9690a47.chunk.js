(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(68)},40:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),s=a(2),i=a(3),l=a(5),u=a(4),m=a(6),p=(a(40),a(12)),d=a(16),g=a(17),f=a.n(g),h={apiKey:"AIzaSyDJjLaet5LsbEDvEWMmpyZQsQUybMuDJbE",authDomain:"shoplist-91bcd.firebaseapp.com",databaseURL:"https://shoplist-91bcd.firebaseio.com",projectId:"shoplist-91bcd",storageBucket:"shoplist-91bcd.appspot.com",messagingSenderId:"851332853131",appId:"1:851332853131:web:4f3a1a6ca192f9e6"},b=function(){var e={apiKey:h.apiKey,authDomain:h.authDomain,databaseURL:h.databaseURL,projectId:h.projectId,storageBucket:h.storageBucket,messagingSenderId:h.messagingSenderId,appId:h.appId};f.a.initializeApp(e)},E=a(14),O=(a(58),function(e){function t(e,a){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={profileImage:n.props.profileImage},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ProfileImage"},r.a.createElement(p.b,{to:"/profile"},r.a.createElement("img",{src:this.state.profileImage,alt:"Profile",onClick:this.redirectToProfile})))}}]),t}(r.a.Component)),v=(a(60),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).checkProfileImage=function(e){console.log("Comprobando profileimage de:"),console.log(a.props.userLogged),a.props.userLogged?a.state.profileImage=r.a.createElement(O,{profileImage:a.props.userLogged.profileImage}):a.state.profileImage=r.a.createElement(p.b,{to:"/login"},r.a.createElement("i",{className:"far fa-user-circle"}))},a.state={profileImage:r.a.createElement(p.b,{to:"/login"},r.a.createElement("i",{className:"far fa-user-circle"}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.checkProfileImage(),r.a.createElement("header",null,r.a.createElement(p.b,{to:"/"},r.a.createElement("i",{className:"fas fa-shopping-cart"}),r.a.createElement("h1",null,this.props.title)),r.a.createElement("div",{className:"buttoner"},this.state.profileImage))}}]),t}(r.a.Component)),I=Object(E.b)(function(e){return{userLogged:e.userLogged}})(v),L=(a(61),r.a.Component,a(62),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).checkIfUserIsLogged=function(){a.props.userLogged&&a.props.history.push("/shoplist")},a.checkIfUserIsLogged(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Main"},r.a.createElement("div",null,r.a.createElement("div",{className:"Content"},r.a.createElement("h1",null,"Shoplist makes your shopping list easier"))))}}]),t}(r.a.Component)),j=Object(E.b)(function(e){return{userLogged:e.userLogged}})(L),N={USERS:{LOGIN:"LOGIN",LOGOUT:"LOGOUT"}},y=a(29),S=a(21),k=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.b,U=localStorage.getItem("userLogged"),w={};null!==JSON.parse(U)&&(w={userLogged:JSON.parse(U)});var C,P=Object(S.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.USERS.LOGIN:return localStorage.setItem("userLogged",JSON.stringify(t.payload)),Object(y.a)({},e,{userLogged:t.payload});case N.USERS.LOGOUT:return localStorage.removeItem("userLogged"),Object(y.a)({},e,{userLogged:void 0});default:return e}},k()),G=(a(63),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).login=function(e){var t=new f.a.auth.GoogleAuthProvider;f.a.auth().signInWithPopup(t).then(function(e){e.credential.accessToken;var t=e.user,n={name:t.displayName,email:t.email,profileImage:t.photoURL};P.dispatch({type:N.USERS.LOGIN,payload:n}),a.props.history.push("/shoplist")}).catch(function(e){e.code,e.message,e.email,e.credential;console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"Content"},r.a.createElement("h3",null,"Login with Google"),r.a.createElement("p",null,"At the moment you only can use our app with an existent Google account."),r.a.createElement("img",{src:"https://www.stickpng.com/assets/images/5a951939c4ffc33e8c148af2.png",alt:"Login",onClick:this.login})))}}]),t}(r.a.Component)),R=(a(64),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).logout=function(){P.dispatch({type:N.USERS.LOGOUT}),a.props.history.push("/")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Profile"},r.a.createElement("img",{src:this.props.userLogged.profileImage,alt:""}),r.a.createElement("p",{className:"Name"},this.props.userLogged.name),r.a.createElement("p",{className:"Email"},this.props.userLogged.email),r.a.createElement("button",{onClick:this.logout},"Logout"))}}]),t}(r.a.Component)),D=Object(E.b)(function(e){return{userLogged:e.userLogged}})(R),A=(a(65),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).decrement=function(e){a.state.units>1&&a.setState({units:a.state.units-1},function(){a.props.updateItem(a.state)})},a.increment=function(e){a.setState({units:a.state.units+1},function(){a.props.updateItem(a.state)})},a.state={id:a.props.id,units:a.props.units||0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"item",id:this.props.id},r.a.createElement("div",null,r.a.createElement("p",null,this.props.title),r.a.createElement("div",{className:"buttoner"},r.a.createElement("i",{className:"fas fa-trash-alt removeBtn",onClick:this.props.removeEvt}))))}}]),t}(r.a.Component)),T=(a(66),function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).checkIfUserIsLogged=function(){a.props.userLogged||a.props.history.push("/")},a.componentDidMount=function(){a.getAllItems()},a.getAllItems=function(){C.ref("".concat(a.state.username,"/items")).on("value",function(e){var t=e.val(),n=[];for(var o in t)if(t.hasOwnProperty(o)){var c=t[o],s=r.a.createElement(A,{key:c.id,id:c.id,title:c.title,units:c.units,updateItem:a.updateItem,removeEvt:a.removeItem});n.push(s)}a.setState({shopList:n})})},a.addItem=function(e){if("Enter"===e.key&&""!==e.target.value){var t=Date.now(),n=e.target.value;C.ref("".concat(a.state.username,"/items/").concat(t)).set({id:t,title:n,units:1}).catch(function(e){return console.log(e)}),e.target.value=""}},a.updateItem=function(e){C.ref("".concat(a.state.username,"/items/").concat(e.id)).update({units:e.units})},a.removeItem=function(e){var t=e.target.parentNode.parentNode.parentNode.id;""!==t&&C.ref("".concat(a.state.username,"/items/").concat(t)).remove()},a.checkIfUserIsLogged();var n=a.props.userLogged.email.split("@")[0];return a.state={username:n,shopList:[]},C=f.a.database(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"shopList"},r.a.createElement("input",{type:"text",onKeyUp:this.addItem,placeholder:"Add item..."}),r.a.createElement("div",{className:"itemsList"},this.state.shopList))}}]),t}(r.a.Component)),x=Object(E.b)(function(e){return{userLogged:e.userLogged}})(T),J=(a(67),function(e){return r.a.createElement("div",{className:"Error404"},r.a.createElement("div",{className:"Content"},r.a.createElement("p",{className:"Oops"},"Oops!"),r.a.createElement("p",{className:"Sorry"},"Sorry, we can't find that page."),r.a.createElement("p",{className:"ErrorCode"},"Error code: 404"),r.a.createElement(p.b,{to:"/",className:"LinkHomePage"},"Return to the HomePage")))}),_=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e)),b(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement(I,{title:"ShopList"}),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:j},console.log("he pintado el main")),r.a.createElement(d.a,{path:"/login",exact:!0,component:G}),r.a.createElement(d.a,{path:"/profile",exact:!0,component:D}),r.a.createElement(d.a,{path:"/shoplist",exact:!0,component:x}),r.a.createElement(d.a,{path:"*",component:J}))))}}]),t}(r.a.Component);c.a.render(r.a.createElement(E.a,{store:P},r.a.createElement(_,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.c9690a47.chunk.js.map