(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(68)},40:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(22),s=a.n(c),i=a(2),l=a(3),u=a(5),m=a(4),p=a(6),d=(a(40),a(12)),g=a(16),f=a(17),h=a.n(f),b={apiKey:"AIzaSyDJjLaet5LsbEDvEWMmpyZQsQUybMuDJbE",authDomain:"shoplist-91bcd.firebaseapp.com",databaseURL:"https://shoplist-91bcd.firebaseio.com",projectId:"shoplist-91bcd",storageBucket:"shoplist-91bcd.appspot.com",messagingSenderId:"851332853131",appId:"1:851332853131:web:4f3a1a6ca192f9e6"},E=function(){var e={apiKey:b.apiKey,authDomain:b.authDomain,databaseURL:b.databaseURL,projectId:b.projectId,storageBucket:b.storageBucket,messagingSenderId:b.messagingSenderId,appId:b.appId};h.a.initializeApp(e)},O=a(14),v=(a(58),function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={profileImage:n.props.profileImage},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"ProfileImage"},o.a.createElement(d.b,{to:"/profile"},o.a.createElement("img",{src:this.state.profileImage,alt:"Profile",onClick:this.redirectToProfile})))}}]),t}(o.a.Component)),j=(a(60),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).logout=function(){},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement(d.b,{to:"/"},o.a.createElement("i",{className:"fas fa-shopping-cart"}),o.a.createElement("h1",null,this.props.title)),o.a.createElement("div",{className:"buttoner"},this.props.userLogged?o.a.createElement(v,{profileImage:this.props.userLogged.profileImage}):o.a.createElement(d.b,{to:"/login"},o.a.createElement("i",{className:"far fa-user-circle"}))))}}]),t}(o.a.Component)),L=Object(O.b)(function(e){return{userLogged:e.userLogged}})(j),I=(a(61),o.a.Component,a(62),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).checkIfUserIsLogged=function(){a.props.userLogged.email&&(console.log(a.props.userLogged),a.props.history.push("/shoplist"))},a.checkIfUserIsLogged(),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Main"},o.a.createElement("div",null,o.a.createElement("div",{className:"Content"},o.a.createElement("h1",null,"Shoplist makes your shopping list easier"))))}}]),t}(o.a.Component)),y=Object(O.b)(function(e){return{userLogged:e.userLogged}})(I),N={USERS:{LOGIN:"LOGIN",LOGOUT:"LOGOUT"}},S=a(29),k=a(23),w=localStorage.getItem("userLogged"),C={userLogged:JSON.parse(w)},U=Object(k.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.USERS.LOGIN:return localStorage.setItem("userLogged",JSON.stringify(t.payload)),Object(S.a)({},e,{userLogged:t.payload});case N.USERS.LOGOUT:return localStorage.removeItem("userLogged"),Object(S.a)({},e,{userLogged:{}});default:return e}}),G=(a(63),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).login=function(e){var t=new h.a.auth.GoogleAuthProvider;h.a.auth().signInWithPopup(t).then(function(e){e.credential.accessToken;var t=e.user,n={name:t.displayName,email:t.email,profileImage:t.photoURL};U.dispatch({type:N.USERS.LOGIN,payload:n}),a.props.history.push("/shoplist")}).catch(function(e){e.code,e.message,e.email,e.credential;console.log(e)})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Login"},o.a.createElement("div",{className:"Content"},o.a.createElement("h3",null,"Login with Google"),o.a.createElement("p",null,"At the moment you only can use our app with an existent Google account."),o.a.createElement("img",{src:"https://www.stickpng.com/assets/images/5a951939c4ffc33e8c148af2.png",alt:"Login",onClick:this.login})))}}]),t}(o.a.Component)),P=(a(64),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).logout=function(){U.dispatch({type:N.USERS.LOGOUT})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Profile"},o.a.createElement("img",{src:this.props.userLogged.profileImage,alt:""}),o.a.createElement("p",{className:"Name"},this.props.userLogged.name),o.a.createElement("p",{className:"Email"},this.props.userLogged.email),o.a.createElement(d.b,{to:"/",onClick:this.logout},"Logout"))}}]),t}(o.a.Component)),R=Object(O.b)(function(e){return{userLogged:e.userLogged}})(P),A=(a(65),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).decrement=function(e){a.state.units>1&&a.setState({units:a.state.units-1},function(){a.props.updateItem(a.state)})},a.increment=function(e){a.setState({units:a.state.units+1},function(){a.props.updateItem(a.state)})},a.state={id:a.props.id,units:a.props.units||0},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"item",id:this.props.id},o.a.createElement("div",null,o.a.createElement("p",null,this.props.title),o.a.createElement("div",{className:"buttoner"},o.a.createElement("i",{className:"fas fa-trash-alt removeBtn",onClick:this.props.removeEvt}))))}}]),t}(o.a.Component)),D=(a(66),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.getAllItems()},a.getAllItems=function(){n.ref("".concat(a.state.username,"/items")).on("value",function(e){var t=e.val(),n=[];for(var r in t)if(t.hasOwnProperty(r)){var c=t[r],s=o.a.createElement(A,{key:c.id,id:c.id,title:c.title,units:c.units,updateItem:a.updateItem,removeEvt:a.removeItem});n.push(s)}a.setState({shopList:n})})},a.addItem=function(e){if("Enter"===e.key&&""!==e.target.value){var t=Date.now(),r=e.target.value;n.ref("".concat(a.state.username,"/items/").concat(t)).set({id:t,title:r,units:1}).catch(function(e){return console.log(e)}),e.target.value=""}},a.updateItem=function(e){n.ref("".concat(a.state.username,"/items/").concat(e.id)).update({units:e.units})},a.removeItem=function(e){var t=e.target.parentNode.parentNode.parentNode.id;""!==t&&n.ref("".concat(a.state.username,"/items/").concat(t)).remove()},console.log("SHOPLIIST!!!!!!!"),console.log(a.props);var r=a.props.userLogged.email.split("@")[0];return a.state={username:r,shopList:[]},n=h.a.database(),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"shopList"},o.a.createElement("input",{type:"text",onKeyUp:this.addItem,placeholder:"Add item..."}),o.a.createElement("div",{className:"itemsList"},this.state.shopList))}}]),t}(o.a.Component)),x=Object(O.b)(function(e){return{userLogged:e.userLogged}})(D),T=(a(67),function(e){return o.a.createElement("div",{className:"Error404"},o.a.createElement("div",{className:"Content"},o.a.createElement("p",{className:"Oops"},"Oops!"),o.a.createElement("p",{className:"Sorry"},"Sorry, we can't find that page."),o.a.createElement("p",{className:"ErrorCode"},"Error code: 404"),o.a.createElement(d.b,{to:"/",className:"LinkHomePage"},"Return to the HomePage")))}),J=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(u.a)(this,Object(m.a)(t).call(this,e)),E(),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d.a,null,o.a.createElement(L,{title:"ShopList"}),o.a.createElement(g.c,null,o.a.createElement(g.a,{path:"/",exact:!0,component:y}),o.a.createElement(g.a,{path:"/login",exact:!0,component:G}),o.a.createElement(g.a,{path:"/profile",exact:!0,component:R}),o.a.createElement(g.a,{path:"/shoplist",exact:!0,component:x}),o.a.createElement(g.a,{path:"*",component:T}))))}}]),t}(o.a.Component);s.a.render(o.a.createElement(O.a,{store:U},o.a.createElement(J,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3f585c1c.chunk.js.map